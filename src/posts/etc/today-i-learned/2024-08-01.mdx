---
title: '🤔 not permitted by network security policy'
date: '2024-08-01'
description: 'HTTP 네트워크는 에러가 발생한다고..?'
tags:
  - '안드로이드'
  - '트러블슈팅'
---

> ✨ **오늘 공부한 것**
>
```
- 심화 주차 개인 과제
- 심화 주차 실시간 강의
```
>

## 문제 상황

Retrofit2를 이용해 공공데이터포털의 정보를 받아오고자 하는 도중 다음과 같은 에러가 발생했다. 

> _java.net.UnknownServiceException: CLEARTEXT communication to apis.data.go.kr not permitted by network security policy_

찾아보니 통신하려는 주소가 `http://어쩌구`로 되어 있어 발생하는 문제라고 한다. 

## 해결

api 요청 주소에 https를 사용하거나 AndroidManifest 파일에 다음 줄을 추가해주면 해결된다. 

```kotlin
    <application
    	...
        android:usesCleartextTraffic="true">
```

`usesCleartextTraffic`을 true로 주면 애플리케이션이 HTTP 네트워크 트래픽을 사용할 수 있도록 설정해주는 것이라 한다. 

