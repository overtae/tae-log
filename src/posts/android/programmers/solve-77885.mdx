---
title: '2ê°œ ì´í•˜ë¡œ ë‹¤ë¥¸ ë¹„íŠ¸'
date: '2024-07-04'
description: '2ê°œ ì´í•˜ë¡œ ë‹¤ë¥¸ ë¹„íŠ¸ ë¬¸ì œ í’€ì´'
tags:
  - 'ì½”ë”© í…ŒìŠ¤íŠ¸'
---

> ğŸ“ [**2ê°œ ì´í•˜ë¡œ ë‹¤ë¥¸ ë¹„íŠ¸**](https://school.programmers.co.kr/learn/courses/30/lessons/77885)

## ğŸ’¡ ë¬¸ì œ

ì–‘ì˜ ì •ìˆ˜ xì— ëŒ€í•œ í•¨ìˆ˜ f(x)ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜í•©ë‹ˆë‹¤.

> xë³´ë‹¤ í¬ê³  xì™€ ë¹„íŠ¸ê°€ 1~2ê°œ ë‹¤ë¥¸ ìˆ˜ë“¤ ì¤‘ì—ì„œ ì œì¼ ì‘ì€ ìˆ˜

ì •ìˆ˜ë“¤ì´ ë‹´ê¸´ ë°°ì—´ numbersê°€ ë§¤ê°œë³€ìˆ˜ë¡œ ì£¼ì–´ì§‘ë‹ˆë‹¤. numbersì˜ ëª¨ë“  ìˆ˜ë“¤ì— ëŒ€í•˜ì—¬ ê° ìˆ˜ì˜ f ê°’ì„ ë°°ì—´ì— ì°¨ë¡€ëŒ€ë¡œ ë‹´ì•„ return í•˜ë„ë¡ solution í•¨ìˆ˜ë¥¼ ì™„ì„±í•´ì£¼ì„¸ìš”.

### âš ï¸ ì œí•œì‚¬í•­

- 1 â‰¤ numbersì˜ ê¸¸ì´ â‰¤ 100,000
- 0 â‰¤ numbersì˜ ëª¨ë“  ìˆ˜ â‰¤ $1^{15}$

## âœ… í’€ì´

### ğŸ‘† ì²« ë²ˆì§¸ í’€ì´ (ì„±ê³µ)

2ì§„ìˆ˜ëŠ” 0ê³¼ 1ë¡œë§Œ êµ¬ì„±ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ê·œì¹™ë§Œ ì°¾ëŠ”ë‹¤ë©´ ì–´ë µì§€ ì•Šê²Œ í’€ ìˆ˜ ìˆì—ˆë‹¤. ë‚´ê°€ ì°¾ì€ ê·œì¹™ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

- ìˆ«ìê°€ ì§ìˆ˜ë¼ë©´,
  - ê°€ì¥ ë§ˆì§€ë§‰ ìë¦¬ ìˆ˜ëŠ” í•­ìƒ 0ì´ë‹¤.
  - ex. `1010`, `1110`, ...
  - ê°€ì¥ ë§ˆì§€ë§‰ ìë¦¬ ìˆ˜ë¥¼ 1ë¡œ ë³€ê²½í•˜ë©´ ë‹µì´ë‹¤.
  - ex. `10` â†’ `11`, `111010010` â†’ `111010010`
- ìˆ«ìê°€ í™€ìˆ˜ë¼ë©´,
  - ê°€ì¥ ë§ˆì§€ë§‰ ìë¦¬ ìˆ˜ëŠ” í•­ìƒ 1ì´ë‹¤.
  - ê°’ì´ 0ì¸ ìë¦¬ë¥¼ 1ë¡œ ë°”ê¾¸ê²Œ ë˜ë©´ ê·¸ ì˜¤ë¥¸ìª½ ìë¦¬ëŠ” 0ì´ ëœë‹¤. (ì˜¬ë¦¼)
  - ê°€ì¥ ì‘ì€ ìˆ˜ë¥¼ ì°¾ì•„ì•¼ í•˜ê¸° ë•Œë¬¸ì— ê°€ì¥ ì˜¤ë¥¸ìª½ì— ìˆëŠ” 0ì„ ê¸°ì¤€ìœ¼ë¡œ ë¹„íŠ¸ë¥¼ ë³€ê²½í•˜ë©´ ë‹µì´ë‹¤.

```kotlin
class Solution {
    fun solution(numbers: LongArray): LongArray {
        var answer: LongArray = longArrayOf()
        val s = Stack<Int>()

        numbers.map { 
            // ì§ìˆ˜: ê°€ì¥ ë§ˆì§€ë§‰ ìë¦¬ ìˆ˜ë¥¼ 1ë¡œ ë³€ê²½ (10 -> 11)
            // í™€ìˆ˜: 1. ê°€ì¥ ë§ˆì§€ë§‰ "0"ì˜ ìë¦¬ ìˆ˜ë¥¼ 1ë¡œ ë³€ê²½ (01 -> 11)
            //       2. êµ¬í•œ "0"ì˜ ìë¦¬ìˆ˜ ë‹¤ìŒ ìë¦¬ë¥¼ 0ìœ¼ë¡œ ë³€ê²½ (11 -> 10)
            val s = StringBuilder("0" + it.toString(2))

            if (it % 2 == 0L) {
                s.setCharAt(s.length - 1, '1')
            } else {
                val idx = s.lastIndexOf("0")

                s.setCharAt(idx, '1')
                s.setCharAt(idx + 1, '0')
            }

            answer += s.toString().toLong(2)
        }

        return answer
    }
}
```

### ğŸ”¥ ë‹¤ë¥¸ ì‚¬ëŒì˜ í’€ì´ 1

ë¹„íŠ¸ ì—°ì‚°ì´ë¼ëŠ” ê²ƒì´ ì¡´ì¬í•œë‹¤. ê·¸ë ‡ì§€ë§Œ ë‚˜ëŠ” ë¹„íŠ¸ ì—°ì‚°ì„ ë¬´ì„œì›Œí•œë‹¤. ë­ ì˜¤ë¥¸ìª½ìœ¼ë¡œ í•œ ì¹¸ì”© ì˜®ê¸°ë©´ ê°’ì´ 1/2ë°°ê°€ ë˜ê³ , ì™¼ìª½ìœ¼ë¡œ í•œ ì¹¸ì”© ì˜®ê¸°ë©´ 2ë°°ê°€ ë˜ê³  ì–´ì©Œêµ¬ ì €ì©Œêµ¬ëŠ” ë¨¸ë¦¬ì— ì˜ ë“¤ì–´ì˜¤ì§€ ì•ŠëŠ”ë‹¤. ê·¸ë˜ì„œ ë¹„íŠ¸ ì—°ì‚° ì—†ì´ ì´ ë¬¸ì œë¥¼ í’€ì—ˆì—ˆëŠ”ë°...

ì„¸ìƒì—ë‚˜ ì—­ì‹œë‚˜ ë¹„íŠ¸ ì—°ì‚°ì„ ì‚¬ìš©í•œ í’€ì´ê°€ ì œì¼ ìœ„ì— ìˆì—ˆë‹¤. ìƒê°í•´ë³´ë‹ˆ ë¹„íŠ¸ ì—°ì‚°ì„ ëª¨ë¥´ë‹ˆê¹Œ ì½”í‹€ë¦°ì˜ ë¹„íŠ¸ì—°ì‚°ìë‚˜ í•¨ìˆ˜ë„ ì œëŒ€ë¡œ ì•Œì•„ë³´ì§€ ì•Šì•˜ë˜ ê²ƒ ê°™ì•„ ì´ë²ˆ ê¸°íšŒì— ê°„ë‹¨íˆ ì•Œì•„ë³´ì•˜ë‹¤.

- `inv()`: ëª¨ë“  ë¹„íŠ¸ ë°˜ì „ (ì§€ì •ë˜ì§€ ì•Šì€ ìƒìœ„ ë¹„íŠ¸ëŠ” 0ìœ¼ë¡œ ì±„ì›Œì§„ë‹¤.)
- `shr (shift right)`: ë¶€í˜¸ ë¹„íŠ¸ë¥¼ ì œì™¸í•œ ëª¨ë“  ë¹„íŠ¸ë¥¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë°€ì–´ì¤€ë‹¤.
  - ì™¼ìª½ìœ¼ë¡œ ë°€ì–´ì£¼ëŠ” `shl (shift left)`ë„ ìˆìŒ
- `and`: and ì—°ì‚°ì„ í•œë‹¤. (ë¹„íŠ¸ê°€ ë‘˜ ë‹¤ 1ì´ë©´ 1, ì•„ë‹ˆë©´ 0)
  - ë³´í†µ ë¹„íŠ¸ë¥¼ 0ìœ¼ë¡œ ë§Œë“¤ ë•Œ ì‚¬ìš©í•œë‹¤. - clear
  - ì¶”ê°€ë¡œ, ë¹„íŠ¸ë¥¼ í™•ì¸í•  ìˆ˜ë„ ìˆë‹¤. (ì›í•˜ëŠ” ìœ„ì¹˜ì— 1ì„ ë„£ì–´ë³´ë©´ ë¹„íŠ¸ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤.)
- `or`: or ì—°ì‚°ì„ í•œë‹¤. (ë¹„íŠ¸ê°€ í•˜ë‚˜ë¼ë„ 1ì´ë©´ 1, ì•„ë‹ˆë©´ 0)
  - ë³´í†µ ë¹„íŠ¸ ê°’ì„ 1ë¡œ ì„¤ì •í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•œë‹¤. - set
- `xor`: xor ì—°ì‚°ì„ í•œë‹¤. (ë¹„íŠ¸ê°€ ë‹¤ë¥´ë©´ 1, ê°™ìœ¼ë©´ 0)
  - ë³´í†µ ë¹„íŠ¸ë³„ë¡œ ë™ì¼í•œì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.

ì•Œì•„ë³¸ ë‚´ìš©ì„ í† ëŒ€ë¡œ ì½”ë“œë¥¼ í•´ì„í•´ë³´ìë©´..

- nì„ ë°˜ì „ì‹œí‚¨ ìˆ˜ì™€ nì„ and ì—°ì‚°í•œë‹¤.
  - nì˜ ìë¦¿ìˆ˜ ê¸¸ì´ì˜ 0ìœ¼ë¡œë§Œ êµ¬ì„±ëœ ìˆ˜ê°€ ë‚˜ì˜¨ë‹¤.
- ê·¸ ìˆ˜ì—, 1ì„ ë”í•œë‹¤. â†’ `it`
  - 000...1 í˜•íƒœê°€ ëœë‹¤.
- nê³¼ itë¥¼ or ì—°ì‚°í•œë‹¤. â†’ `o`
  - nì˜ ê°€ì¥ ì˜¤ë¥¸ìª½ ë¹„íŠ¸ë¥¼ 1ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤.
- itë¥¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ í•œì¹¸ ë°€ì–´ì£¼ê³ , ë°˜ì „ì‹œí‚¨ë‹¤. â†’ `p`
  - nì˜ ìë¦¿ìˆ˜ ê¸¸ì´ì˜ 1ë¡œë§Œ êµ¬ì„±ëœ ìˆ˜ê°€ ë‚˜ì˜¨ë‹¤.
- oì™€ pë¥¼ and ì—°ì‚°í•œë‹¤.
  - ëª¨ë‘ 1ì¸ ë¹„íŠ¸ë§Œ 1ì´ ëœë‹¤.
  
ì •ë§ í•´ì„ë§Œ í–ˆë‹¤. ë­”ê°€ë­”ê°€ ì›ë¦¬ëŠ” ë‚´ í’€ì´ë‘ ë¹„ìŠ·í•œê²ƒë„ ê°™ì€ë° ì œëŒ€ë¡œ ëœ ì´í•´ëŠ” ëª»í•˜ê² ë‹¤.

```kotlin
class Solution {
    fun solution(numbers: LongArray): LongArray {
        return numbers.map { num -> (num.inv() and num + 1).let { num or it and (it shr 1).inv() } }.toLongArray()
    }
}
```

### ğŸ¤¯ ë‹¤ë¥¸ ì‚¬ëŒì˜ í’€ì´ 2

ë‚˜ëŠ” String íƒ€ì…ì€ íŠ¹ì • ë²”ìœ„ë§Œ ì–´ë–¤ ë¬¸ìì—´ë¡œ ë³€ê²½í•˜ì§€ ëª»í•˜ëŠ” ì¤„ ì•Œì•„ì„œ StringBuilderë¥¼ ì‚¬ìš©í–ˆëŠ”ë°, ì•„ë‹ˆ ê¸€ì„ `replaceRange()`ë¼ëŠ” í•¨ìˆ˜ê°€ ìˆëŠ” ê²ƒì´ë‹¤!

> **âœ¨ `replaceRange(startIndex: Int, endIndex: Int, replacement: CharSequence)`**
- startIndex ~ endIndex-1 ê¹Œì§€ì˜ ë¬¸ìì—´ì„ replacementë¡œ ë°”ê¿”ì¤€ë‹¤.
- startIndex, endIndex ëŒ€ì‹  IntRange í˜•íƒœë¥¼ ë„£ì–´ì¤„ ìˆ˜ë„ ìˆë‹¤!

í™€ë¦¬ëª°ë¦¬.. ì˜¤ëŠ˜ë„ ë˜ ì•Œì•„ê°„ë‹¤.

```kotlin
class Solution {
    fun solution(numbers: LongArray): LongArray {
        return numbers.map {
            val str = it.toString(2)
            if (!str.contains('0')) ("10" + str.drop(1)).toLong(2)
            else {
                val last = str.lastIndexOf('0')
                if (last == str.lastIndex) str.replaceRange(last..last, "1").toLong(2)
                else str.replaceRange(last..last + 1, "10").toLong(2)
            }
        }.toLongArray()
    }
}
```

## ğŸ’­ í›„ê¸°

ë¹„íŠ¸ ì—°ì‚°ì€.. í™”ì´íŒ… í•´ë³´ëŠ”ê±°ê³ , `replaceRange`ëŠ” ì •ë§ ë§ì´ ì‚¬ìš©í•  ê²ƒ ê°™ë‹¤!
